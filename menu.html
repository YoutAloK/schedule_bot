<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –¥–ª—è WhatsApp –±–æ—Ç–∞</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #4c6ef5 0%, #3b5bdb 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .header p {
            opacity: 0.9;
            font-size: 1.1em;
        }
        
        .tabs {
            display: flex;
            background: #f8f9fa;
            border-bottom: 2px solid #dee2e6;
        }
        
        .tab {
            flex: 1;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            font-weight: 600;
            font-size: 1.1em;
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
        }
        
        .tab:hover {
            background: #e9ecef;
        }
        
        .tab.active {
            background: white;
            border-bottom: 3px solid #4c6ef5;
            color: #4c6ef5;
        }
        
        .content {
            padding: 30px;
            min-height: 500px;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .day-schedule {
            margin-bottom: 40px;
            padding: 25px;
            background: #f8f9fa;
            border-radius: 15px;
            border: 2px solid #e9ecef;
        }
        
        .day-title {
            font-size: 1.8em;
            color: #343a40;
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .add-lesson-btn {
            background: #40c057;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.9em;
            transition: background 0.3s ease;
        }
        
        .add-lesson-btn:hover {
            background: #37b24d;
        }
        
        .lesson {
            background: white;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 15px;
            border: 1px solid #dee2e6;
            position: relative;
        }
        
        .lesson-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .lesson-title {
            font-size: 1.3em;
            font-weight: 600;
            color: #495057;
        }
        
        .delete-lesson {
            background: #fa5252;
            color: white;
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2em;
            line-height: 1;
        }
        
        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .form-group {
            display: flex;
            flex-direction: column;
        }
        
        .form-group label {
            margin-bottom: 5px;
            font-weight: 600;
            color: #495057;
            font-size: 0.9em;
        }
        
        input, select {
            padding: 12px;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            font-size: 1em;
            transition: border-color 0.3s ease;
        }
        
        input:focus, select:focus {
            outline: none;
            border-color: #4c6ef5;
            box-shadow: 0 0 0 3px rgba(76, 110, 245, 0.1);
        }
        
        .week-checkboxes {
            display: flex;
            gap: 15px;
            margin-top: 5px;
        }
        
        .week-checkbox {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .week-checkbox input {
            width: auto;
        }
        
        .output-section {
            background: #1a1a2e;
            border-radius: 15px;
            padding: 30px;
            margin-top: 40px;
        }
        
        .output-header {
            color: white;
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .output-header h3 {
            font-size: 1.5em;
        }
        
        #copyJsonBtn {
            background: #40c057;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            font-size: 1em;
            transition: background 0.3s ease;
        }
        
        #copyJsonBtn:hover {
            background: #37b24d;
        }
        
        #jsonOutput {
            background: #0f3460;
            color: #9fef00;
            padding: 20px;
            border-radius: 10px;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.9em;
            line-height: 1.6;
            white-space: pre-wrap;
            word-wrap: break-word;
            max-height: 400px;
            overflow-y: auto;
        }
        
        .actions {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            justify-content: center;
        }
        
        .action-btn {
            padding: 15px 30px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            font-size: 1.1em;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        #generateJsonBtn {
            background: linear-gradient(135deg, #4c6ef5 0%, #3b5bdb 100%);
            color: white;
        }
        
        #loadExampleBtn {
            background: #868e96;
            color: white;
        }
        
        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }
        
        .save-load-section {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }
        
        .save-load-section input {
            flex: 1;
        }
        
        .save-btn, .load-btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
        }
        
        .save-btn {
            background: #40c057;
            color: white;
        }
        
        .load-btn {
            background: #fd7e14;
            color: white;
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 25px;
            background: #40c057;
            color: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            transform: translateX(150%);
            transition: transform 0.3s ease;
            z-index: 1000;
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        @media (max-width: 768px) {
            .form-grid {
                grid-template-columns: 1fr;
            }
            
            .content {
                padding: 15px;
            }
            
            .day-schedule {
                padding: 15px;
            }
            
            .actions {
                flex-direction: column;
            }
            
            .header h1 {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìÖ –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –¥–ª—è WhatsApp –±–æ—Ç–∞</h1>
            <p>–°–æ–∑–¥–∞–π—Ç–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø–∞—Ä –∏ –ø–æ–ª—É—á–∏—Ç–µ –≥–æ—Ç–æ–≤—ã–π JSON –¥–ª—è –≤–∞—à–µ–≥–æ –±–æ—Ç–∞</p>
        </div>
        
        <div class="tabs">
            <div class="tab active" onclick="showTab('editor')">–†–µ–¥–∞–∫—Ç–æ—Ä —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è</div>
            <div class="tab" onclick="showTab('output')">–ü–æ–ª—É—á–∏—Ç—å JSON</div>
        </div>
        
        <div class="content">
            <!-- –†–µ–¥–∞–∫—Ç–æ—Ä —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è -->
            <div id="editor" class="tab-content active">
                <div id="scheduleContainer">
                    <!-- –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –±—É–¥–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ –∑–¥–µ—Å—å -->
                </div>
                
                <div class="actions">
                    <button class="action-btn" id="generateJsonBtn" onclick="generateJson()">
                        üöÄ –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å JSON
                    </button>
                    <button class="action-btn" id="loadExampleBtn" onclick="loadExample()">
                        üìã –ó–∞–≥—Ä—É–∑–∏—Ç—å –ø—Ä–∏–º–µ—Ä
                    </button>
                </div>
                
                <div class="save-load-section">
                    <input type="file" id="loadFile" accept=".json" style="display: none;">
                    <input type="text" id="fileName" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ (–±–µ–∑ .json)">
                    <button class="save-btn" onclick="saveSchedule()">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    <button class="load-btn" onclick="document.getElementById('loadFile').click()">üìÇ –ó–∞–≥—Ä—É–∑–∏—Ç—å</button>
                </div>
            </div>
            
            <!-- –í—ã–≤–æ–¥ JSON -->
            <div id="output" class="tab-content">
                <div class="output-section">
                    <div class="output-header">
                        <h3>üìÑ –ì–æ—Ç–æ–≤—ã–π JSON –¥–ª—è schedule.json</h3>
                        <button id="copyJsonBtn" onclick="copyJson()">
                            üìã –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å JSON
                        </button>
                    </div>
                    <pre id="jsonOutput">// JSON –ø–æ—è–≤–∏—Ç—Å—è –∑–¥–µ—Å—å –ø–æ—Å–ª–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏</pre>
                </div>
                
                <div style="text-align: center; margin-top: 30px;">
                    <button class="action-btn" onclick="showTab('editor')" style="background: #fd7e14;">
                        ‚úèÔ∏è –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="notification" id="notification"></div>
    
    <script>
        // –î–Ω–∏ –Ω–µ–¥–µ–ª–∏
        const daysOfWeek = [
            '–ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫',
            '–≤—Ç–æ—Ä–Ω–∏–∫', 
            '—Å—Ä–µ–¥–∞',
            '—á–µ—Ç–≤–µ—Ä–≥',
            '–ø—è—Ç–Ω–∏—Ü–∞',
            '—Å—É–±–±–æ—Ç–∞',
            '–≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ'
        ];
        
        // –¢–∏–ø—ã –∑–∞–Ω—è—Ç–∏–π
        const lessonTypes = [
            '–ª–µ–∫—Ü–∏—è',
            '–ø—Ä–∞–∫—Ç–∏–∫–∞', 
            '–ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è',
            '—Å–µ–º–∏–Ω–∞—Ä'
        ];
        
        // –¢–∏–ø—ã –Ω–µ–¥–µ–ª—å
        const weekTypes = ['–≤—Å–µ', '—á–µ—Ç–Ω–∞—è', '–Ω–µ—á–µ—Ç–Ω–∞—è'];
        
        // –ò—Å—Ö–æ–¥–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
        let scheduleData = {
            "–ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫": [],
            "–≤—Ç–æ—Ä–Ω–∏–∫": [],
            "—Å—Ä–µ–¥–∞": [],
            "—á–µ—Ç–≤–µ—Ä–≥": [],
            "–ø—è—Ç–Ω–∏—Ü–∞": [],
            "—Å—É–±–±–æ—Ç–∞": [],
            "–≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ": []
        };
        
        // –ó–∞–≥—Ä—É–∂–∞–µ–º –∏–∑ localStorage –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
        function loadFromLocalStorage() {
            const saved = localStorage.getItem('whatsapp-schedule-bot-data');
            if (saved) {
                try {
                    scheduleData = JSON.parse(saved);
                    showNotification('‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω—ã —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ');
                } catch (e) {
                    console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑ localStorage:', e);
                }
            }
        }
        
        // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage
        function saveToLocalStorage() {
            localStorage.setItem('whatsapp-schedule-bot-data', JSON.stringify(scheduleData));
        }
        
        // –ó–∞–≥—Ä—É–∂–∞–µ–º –ø—Ä–∏–º–µ—Ä —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
        function loadExample() {
            scheduleData = {
                "–ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫": [
                    {
                        "time": "08:30",
                        "subject": "–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑",
                        "weeks": "–≤—Å–µ",
                        "type": "–ª–µ–∫—Ü–∏—è",
                        "room": "201",
                        "teacher": "–†–∞—Ö–∏–º–æ–≤ –ê.–ê."
                    },
                    {
                        "time": "10:15", 
                        "subject": "–§–∏–∑–∏–∫–∞",
                        "weeks": "—á–µ—Ç–Ω–∞—è",
                        "type": "–ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è", 
                        "room": "305",
                        "teacher": "–ò–≤–∞–Ω–æ–≤–∞ –°.–ü."
                    }
                ],
                "–≤—Ç–æ—Ä–Ω–∏–∫": [
                    {
                        "time": "08:30",
                        "subject": "–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫", 
                        "weeks": "–≤—Å–µ",
                        "type": "–ø—Ä–∞–∫—Ç–∏–∫–∞",
                        "room": "102", 
                        "teacher": "–°–º–∏—Ä–Ω–æ–≤–∞ –û.–í."
                    }
                ],
                "—Å—Ä–µ–¥–∞": [
                    {
                        "time": "10:15",
                        "subject": "–•–∏–º–∏—è",
                        "weeks": "–≤—Å–µ", 
                        "type": "–ª–µ–∫—Ü–∏—è",
                        "room": "306",
                        "teacher": "–í–æ–ª–∫–æ–≤–∞ –ï.–ù."
                    }
                ],
                "—á–µ—Ç–≤–µ—Ä–≥": [
                    {
                        "time": "08:30",
                        "subject": "–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞",
                        "weeks": "–≤—Å–µ",
                        "type": "–ª–µ–∫—Ü–∏—è", 
                        "room": "402",
                        "teacher": "–ú–æ—Ä–æ–∑–æ–≤ –í.–ò."
                    }
                ],
                "–ø—è—Ç–Ω–∏—Ü–∞": [
                    {
                        "time": "08:30", 
                        "subject": "–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞",
                        "weeks": "–≤—Å–µ",
                        "type": "–ø—Ä–∞–∫—Ç–∏–∫–∞",
                        "room": "–°–ø–æ—Ä—Ç–∑–∞–ª",
                        "teacher": "–§–µ–¥–æ—Ä–æ–≤ –°.–°."
                    }
                ],
                "—Å—É–±–±–æ—Ç–∞": [],
                "–≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ": []
            };
            
            renderSchedule();
            showNotification('‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω –ø—Ä–∏–º–µ—Ä —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è');
        }
        
        // –†–µ–Ω–¥–µ—Ä–∏–º —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
        function renderSchedule() {
            const container = document.getElementById('scheduleContainer');
            container.innerHTML = '';
            
            daysOfWeek.forEach(day => {
                const dayElement = document.createElement('div');
                dayElement.className = 'day-schedule';
                
                dayElement.innerHTML = `
                    <div class="day-title">
                        <span>${day.charAt(0).toUpperCase() + day.slice(1)}</span>
                        <button class="add-lesson-btn" onclick="addLesson('${day}')">
                            + –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä—É
                        </button>
                    </div>
                    <div id="lessons-${day}"></div>
                `;
                
                container.appendChild(dayElement);
                
                // –†–µ–Ω–¥–µ—Ä–∏–º –ø–∞—Ä—ã –¥–ª—è —ç—Ç–æ–≥–æ –¥–Ω—è
                const lessonsContainer = document.getElementById(`lessons-${day}`);
                if (scheduleData[day] && scheduleData[day].length > 0) {
                    scheduleData[day].forEach((lesson, index) => {
                        lessonsContainer.appendChild(createLessonElement(day, index, lesson));
                    });
                } else {
                    lessonsContainer.innerHTML = '<p style="color: #868e96; font-style: italic;">–ù–µ—Ç –ø–∞—Ä</p>';
                }
            });
        }
        
        // –°–æ–∑–¥–∞—ë–º —ç–ª–µ–º–µ–Ω—Ç –ø–∞—Ä—ã
        function createLessonElement(day, index, lesson) {
            const lessonElement = document.createElement('div');
            lessonElement.className = 'lesson';
            
            lessonElement.innerHTML = `
                <div class="lesson-header">
                    <div class="lesson-title">–ü–∞—Ä–∞ ${index + 1}</div>
                    <button class="delete-lesson" onclick="deleteLesson('${day}', ${index})">√ó</button>
                </div>
                <div class="form-grid">
                    <div class="form-group">
                        <label>–í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞:</label>
                        <input type="time" value="${lesson.time}" 
                               onchange="updateLesson('${day}', ${index}, 'time', this.value)">
                    </div>
                    <div class="form-group">
                        <label>–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞:</label>
                        <input type="text" value="${lesson.subject}" 
                               onchange="updateLesson('${day}', ${index}, 'subject', this.value)"
                               placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞">
                    </div>
                    <div class="form-group">
                        <label>–¢–∏–ø –∑–∞–Ω—è—Ç–∏—è:</label>
                        <select onchange="updateLesson('${day}', ${index}, 'type', this.value)">
                            ${lessonTypes.map(type => `
                                <option value="${type}" ${lesson.type === type ? 'selected' : ''}>
                                    ${type.charAt(0).toUpperCase() + type.slice(1)}
                                </option>
                            `).join('')}
                        </select>
                    </div>
                    <div class="form-group">
                        <label>–ê—É–¥–∏—Ç–æ—Ä–∏—è:</label>
                        <input type="text" value="${lesson.room}" 
                               onchange="updateLesson('${day}', ${index}, 'room', this.value)"
                               placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 201">
                    </div>
                    <div class="form-group">
                        <label>–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å:</label>
                        <input type="text" value="${lesson.teacher}" 
                               onchange="updateLesson('${day}', ${index}, 'teacher', this.value)"
                               placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ò–≤–∞–Ω–æ–≤ –ò.–ò.">
                    </div>
                    <div class="form-group">
                        <label>–ù–µ–¥–µ–ª–∏:</label>
                        <div class="week-checkboxes">
                            ${weekTypes.map(week => `
                                <label class="week-checkbox">
                                    <input type="radio" name="weeks-${day}-${index}" 
                                           value="${week}" 
                                           ${lesson.weeks === week ? 'checked' : ''}
                                           onchange="updateLesson('${day}', ${index}, 'weeks', '${week}')">
                                    ${week.charAt(0).toUpperCase() + week.slice(1)}
                                </label>
                            `).join('')}
                        </div>
                    </div>
                </div>
            `;
            
            return lessonElement;
        }
        
        // –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—É—é –ø–∞—Ä—É
        function addLesson(day) {
            if (!scheduleData[day]) {
                scheduleData[day] = [];
            }
            
            const newLesson = {
                time: "08:30",
                subject: "–ù–æ–≤—ã–π –ø—Ä–µ–¥–º–µ—Ç",
                weeks: "–≤—Å–µ",
                type: "–ª–µ–∫—Ü–∏—è",
                room: "000",
                teacher: "–§–∞–º–∏–ª–∏—è –ò.–û."
            };
            
            scheduleData[day].push(newLesson);
            saveToLocalStorage();
            renderSchedule();
            showNotification('‚úÖ –ü–∞—Ä–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞');
        }
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –ø–∞—Ä—É
        function updateLesson(day, index, field, value) {
            if (scheduleData[day] && scheduleData[day][index]) {
                scheduleData[day][index][field] = value;
                saveToLocalStorage();
            }
        }
        
        // –£–¥–∞–ª—è–µ–º –ø–∞—Ä—É
        function deleteLesson(day, index) {
            if (scheduleData[day] && scheduleData[day][index]) {
                scheduleData[day].splice(index, 1);
                saveToLocalStorage();
                renderSchedule();
                showNotification('‚úÖ –ü–∞—Ä–∞ —É–¥–∞–ª–µ–Ω–∞');
            }
        }
        
        // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º JSON
        function generateJson() {
            // –£–¥–∞–ª—è–µ–º –ø—É—Å—Ç—ã–µ –¥–Ω–∏
            const cleanedSchedule = {};
            Object.keys(scheduleData).forEach(day => {
                if (scheduleData[day] && scheduleData[day].length > 0) {
                    cleanedSchedule[day] = scheduleData[day];
                } else {
                    cleanedSchedule[day] = [];
                }
            });
            
            const jsonString = JSON.stringify(cleanedSchedule, null, 2);
            document.getElementById('jsonOutput').textContent = jsonString;
            showTab('output');
            showNotification('‚úÖ JSON —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω');
        }
        
        // –ö–æ–ø–∏—Ä—É–µ–º JSON –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞
        function copyJson() {
            const jsonText = document.getElementById('jsonOutput').textContent;
            navigator.clipboard.writeText(jsonText).then(() => {
                showNotification('‚úÖ JSON —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞');
            });
        }
        
        // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –≤ —Ñ–∞–π–ª
        function saveSchedule() {
            const fileName = document.getElementById('fileName').value || 'schedule';
            const cleanedSchedule = {};
            Object.keys(scheduleData).forEach(day => {
                if (scheduleData[day] && scheduleData[day].length > 0) {
                    cleanedSchedule[day] = scheduleData[day];
                } else {
                    cleanedSchedule[day] = [];
                }
            });
            
            const dataStr = JSON.stringify(cleanedSchedule, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            
            const downloadLink = document.createElement('a');
            downloadLink.href = URL.createObjectURL(dataBlob);
            downloadLink.download = `${fileName}.json`;
            downloadLink.click();
            
            showNotification('‚úÖ –§–∞–π–ª —Å–æ—Ö—Ä–∞–Ω—ë–Ω');
        }
        
        // –ó–∞–≥—Ä—É–∂–∞–µ–º —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∏–∑ —Ñ–∞–π–ª–∞
        document.getElementById('loadFile').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (!file) return;
            
            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const loadedData = JSON.parse(e.target.result);
                    scheduleData = loadedData;
                    saveToLocalStorage();
                    renderSchedule();
                    showNotification('‚úÖ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∂–µ–Ω–æ');
                } catch (error) {
                    showNotification('‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞');
                    console.error('–û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ JSON:', error);
                }
            };
            reader.readAsText(file);
        });
        
        // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º –≤–∫–ª–∞–¥–∫–∏
        function showTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            document.getElementById(tabName).classList.add('active');
            document.querySelector(`.tab[onclick="showTab('${tabName}')"]`).classList.add('active');
        }
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
        function showNotification(message) {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        loadFromLocalStorage();
        renderSchedule();
        
        // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ Enter –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ —Ñ–∞–π–ª–∞
        document.getElementById('fileName').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                saveSchedule();
            }
        });
    </script>
</body>
</html>